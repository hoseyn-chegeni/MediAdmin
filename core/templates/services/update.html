{%extends 'base.html' %}
{%block title %}ویرایش سرویس {{object}}{%endblock%}

{%block content %} 
   
<div class="container">
    <main>
      <div class="py-5 text-center">
        <img class="d-block mx-auto mb-4" src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-todo-list/check1.webp" alt="" width="62" height="47">
        <h2>ویرایش سرویس {{object}}</h2>
      </div>

        <div class="col-md-7 col-lg-8">
          <h4 class="mb-3">اطلاعات</h4>
          <form class="needs-validation" method="post" enctype="multipart/form-data">
            {%csrf_token%}
            <div class="row g-3">
                <div class="row g-3">
                    <div class="col-sm-6">
                      <label for="name" class="form-label">نام سرویس</label>
                      <input type="text" class="form-control" id="name" placeholder="" value="{{object.name}}" name="name" >
                    </div>

                    <div class="col-sm-6">
                        <label  for="doctor">پزشک:</label>
                        <select  class="form-select" name="doctor" required="" id="doctor">
                          <option value="" selected="">---------</option>
                          {% for i in form.doctor.field.queryset%}
                        {% if object.doctor == i%}
                          <option value="{{i.id}}" selected>{{i}}</option>
                          {%else%}
                          <option value="{{i.id}}">{{i}}</option>
                          {%endif%}
                          {%endfor%}
                        </select>
                        </div>



                        <div class="col-sm-6">
                            <label for="description" class="form-label">توضیحات</label>
                            <input type="text" class="form-control" id="description" placeholder="" value="{{object.description}}" name="description" >
                          </div>
      

                          <div class="col-sm-6">
                            <label  for="category">دسته بندی:</label>
                            <select  class="form-select" name="category" required="" id="category">
                              <option value="" selected="">---------</option>
                              {% for i in form.category.field.queryset%}
                              {% if object.category == i%}
                              <option value="{{i.id}}" selected>{{i}}</option>
                              {%else%}
                              <option value="{{i.id}}">{{i}}</option>
                            {%endif%}
                              {%endfor%}
                            </select>
                            </div>
    
                            <div class="col-sm-6">
                                <label for="duration" class="form-label">مدت زمان</label>
                                <input type="number" class="form-control" id="duration" placeholder="" value="{{object.duration}}" name="duration" >
                              </div>
              
                              <div class="col-sm-6">
                                <label for="price" class="form-label">قیمت</label>
                                <input type="number" class="form-control" id="price" placeholder="" value="{{object.price}}" name="price" >
                              </div>


                              <div class="col-sm-6">
                                <label for="preparation_instructions" class="form-label">دستورالعمل آماده سازی</label>
                                <input type="text" class="form-control" id="preparation_instructions" placeholder="" value="{{object.preparation_instructions}}" name="preparation_instructions" >
                              </div>


                              <div class="col-sm-6">
                                <label for="documentation_requirements" class="form-label">ملزومات مستندسازی</label>
                                <input type="text" class="form-control" id="documentation_requirements" placeholder="" value="{{object.documentation_requirements}}" name="documentation_requirements" >
                              </div>


                              <div class="col-sm-6">
                                <label for="therapeutic_measures" class="form-label">اقدامات درمانی</label>
                                <input type="text" class="form-control" id="therapeutic_measures" placeholder="" value="{{object.therapeutic_measures}}" name="therapeutic_measures" >
                              </div>



                              <div class="col-sm-6">
                                <label for="recommendations" class="form-label">توصیه ها</label>
                                <input type="text" class="form-control" id="recommendations" placeholder="" value="{{object.recommendations}}" name="recommendations" >
                              </div>

      
                              <div class="col-sm-6">
                                <label for="medical_equipment">تجهیزات پزشکی:</label>
                                <select class="form-select" name="medical_equipment"  id="medical_equipment" multiple>
                                    {% for equipment in form.fields.medical_equipment.queryset %}
                                        {% if equipment in object.medical_equipment.all %}
                                            <option value="{{ equipment.id }}" selected>{{ equipment.name }}</option>
                                        {% else %}
                                            <option value="{{ equipment.id }}">{{ equipment.name }}</option>
                                        {% endif %}
                                    {% endfor %}
                                </select>
                            </div>
                            


                        <div class="col-sm-6">
                            <label  for="is_active">فعال:</label>
                            <select  class="form-select" name="is_active" required="" id="is_active">
                              <option value="" selected="">---------</option>
                              {% if object.is_active == True%}
                              <option value="true" selected>بله</option>
                              <option value="false">خیر</option>
                              {%else%}
                              <option value="true" >بله</option>
                              <option value="false" selected>خیر</option>
                              {%endif%}
                            </select>
                            </div>
    

            <button class="w-100 btn btn-lg btn-outline-success" type="submit">ویرایش</button>
          </form>
        </div>
      </div>
      <br><br>
      <br><br>

    </main>
</div>

{%endblock%}